!function(){function a(a){return a.charAt(0).toUpperCase()+a.slice(1)}if("undefined"==typeof window.Swapi){var b=function(b){var c=this;c.baseUrl=b,c.loaded=!1,c.get(b,function(b){function d(d){var e=a(d);c["getAll"+e]=function(a,e,f){if("function"==typeof a){f=e,e=a;var g=[],h=function(a){g=g.concat(a.results),null!==a.next?c.get(a.next,h,f):e(g)};c.get(b[d],h,f)}else a&&/[0-9]+/.test(a)&&c.get(b[d]+"?page="+a,e,f)},c["get"+e]=function(a,e,f){c.get(b[d]+a,e,f)}}for(var e in b)d(e);var f=document.createEvent("Event");f.initEvent(c.baseUrl,!0,!0),document.dispatchEvent(f),c.loaded=!0})};b.prototype={get:function(a,b,c){var d=this;c=c||function(){console.error(d.error)},a=a||d.baseUrl;var e=new XMLHttpRequest;e.open("GET",a,!0),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&(200!=this.status?c.call(d,a+" "+JSON.parse(this.responseText).detail):b&&b.call(d,JSON.parse(this.responseText)))},e.send()},ready:function(a){var b=this;this.loaded?a.call(this):document.addEventListener(b.baseUrl,function(){a.call(b)})}},window.Swapi=b}}();